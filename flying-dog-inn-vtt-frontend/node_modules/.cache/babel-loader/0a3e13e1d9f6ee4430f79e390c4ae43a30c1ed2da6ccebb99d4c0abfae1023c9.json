{"ast":null,"code":"var _jsxFileName = \"/Users/josh.thorn/AutoML Co-Pilot/flying-dog-inn-vtt-frontend/src/components/Log.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useCampaign } from '../contexts/CampaignContext';\nimport { Plus, PencilSimple, Trash, ArrowsVertical, Dot } from '@phosphor-icons/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Log = () => {\n  _s();\n  const [logs, setLogs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const [offset, setOffset] = useState(0);\n  const limit = 50;\n  const observer = useRef();\n  const refreshInterval = useRef();\n  const {\n    selectedCampaign\n  } = useCampaign();\n  const lastLogElementRef = useCallback(node => {\n    if (loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && hasMore) {\n        setOffset(prevOffset => prevOffset + limit);\n      }\n    });\n    if (node) observer.current.observe(node);\n  }, [loading, hasMore]);\n  const fetchLogs = async () => {\n    if (!selectedCampaign) return;\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:3001/api/logs?campaign_id=${selectedCampaign.id}&limit=${limit}&offset=${offset}`);\n      if (!response.ok) throw new Error('Failed to fetch logs');\n      const data = await response.json();\n      setLogs(prevLogs => {\n        const newLogs = offset === 0 ? data : [...prevLogs, ...data];\n        const uniqueLogs = Array.from(new Map(newLogs.map(log => [log.id, log])).values());\n        return uniqueLogs.sort((a, b) => b.created_at - a.created_at);\n      });\n      setHasMore(data.length === limit);\n    } catch (error) {\n      console.error('Error fetching logs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Reset logs and offset when campaign changes\n  useEffect(() => {\n    setLogs([]);\n    setOffset(0);\n    setHasMore(true);\n    if (selectedCampaign) {\n      fetchLogs();\n    }\n\n    // Set up refresh interval\n    if (selectedCampaign) {\n      refreshInterval.current = setInterval(() => {\n        setOffset(0);\n      }, 10000);\n      return () => {\n        if (refreshInterval.current) {\n          clearInterval(refreshInterval.current);\n        }\n      };\n    }\n  }, [selectedCampaign === null || selectedCampaign === void 0 ? void 0 : selectedCampaign.id]); // Add .id to ensure it updates when campaign changes\n\n  // Fetch more logs when offset changes\n  useEffect(() => {\n    if (selectedCampaign && offset > 0) {\n      fetchLogs();\n    }\n  }, [offset, selectedCampaign === null || selectedCampaign === void 0 ? void 0 : selectedCampaign.id]);\n  const formatTimestamp = timestamp => {\n    const date = new Date(timestamp * 1000);\n    const dayOfWeek = date.toLocaleDateString('en-US', {\n      weekday: 'short'\n    });\n    return {\n      date: `${dayOfWeek} ${date.toLocaleDateString()}`,\n      time: date.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    };\n  };\n  const getActionIcon = action_type => {\n    switch (action_type) {\n      case 'CREATE':\n        return /*#__PURE__*/_jsxDEV(Plus, {\n          weight: \"bold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 16\n        }, this);\n      case 'UPDATE':\n        return /*#__PURE__*/_jsxDEV(PencilSimple, {\n          weight: \"bold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 16\n        }, this);\n      case 'DELETE':\n        return /*#__PURE__*/_jsxDEV(Trash, {\n          weight: \"bold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 16\n        }, this);\n      case 'REORDER':\n        return /*#__PURE__*/_jsxDEV(ArrowsVertical, {\n          weight: \"bold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Dot, {\n          weight: \"bold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getActionColor = action_type => {\n    switch (action_type) {\n      case 'CREATE':\n        return '#2D7A4C';\n      // Deep forest green\n      case 'UPDATE':\n        return '#8B4513';\n      // Saddle brown\n      case 'DELETE':\n        return '#8B0000';\n      // Dark red\n      case 'REORDER':\n        return '#4B0082';\n      // Indigo\n      default:\n        return '#483C32';\n      // Dark taupe\n    }\n  };\n  const formatActionName = log => {\n    const entityMap = {\n      'map': 'Map',\n      'marker': 'Marker',\n      'timeline_event': 'Timeline Event',\n      'campaign': 'Campaign'\n    };\n    if (log.details) {\n      const nameMatch = log.details.match(/\"([^\"]+)\"/);\n      if (nameMatch) return nameMatch[1];\n      return log.details;\n    }\n    return `${entityMap[log.entity_type] || log.entity_type} ${log.entity_id}`;\n  };\n  const formatActionLocation = log => {\n    switch (log.entity_type) {\n      case 'map':\n        return 'Maps';\n      case 'marker':\n        {\n          var _log$details;\n          const mapMatch = (_log$details = log.details) === null || _log$details === void 0 ? void 0 : _log$details.match(/on map \"([^\"]+)\"/);\n          if (mapMatch) return mapMatch[1];\n          return 'Maps';\n        }\n      case 'timeline_event':\n        return 'Timeline';\n      case 'campaign':\n        return 'Campaign Settings';\n      default:\n        return '';\n    }\n  };\n  const handleExport = async () => {\n    if (!selectedCampaign) {\n      alert('Please select a campaign first');\n      return;\n    }\n    try {\n      const response = await fetch(`http://localhost:3001/api/campaign/export/${selectedCampaign.id}`);\n      if (!response.ok) throw new Error('Failed to export campaign data');\n      const data = await response.json();\n\n      // Format the data for JSON file\n      const jsonStr = JSON.stringify(data, null, 2);\n\n      // Create and download the file\n      const blob = new Blob([jsonStr], {\n        type: 'application/json'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${selectedCampaign.name}-campaign-export.json`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    } catch (error) {\n      console.error('Error exporting campaign data:', error);\n      alert('Failed to export campaign data');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100vh',\n      width: 'calc(100vw - 296px)',\n      boxSizing: 'border-box',\n      background: '#F5E6D3',\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      overflowY: 'hidden'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginLeft: '32px',\n        marginRight: '32px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0\n        },\n        children: \"Campaign Log\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleExport,\n        className: \"dnd-button-secondary\",\n        style: {\n          background: '#F5E6D3',\n          color: '#8B4513',\n          border: '1px solid #A0522D',\n          borderRadius: '6px',\n          padding: '8px 20px',\n          cursor: 'pointer',\n          fontWeight: '600',\n          fontSize: '14px',\n          boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.5)',\n          textTransform: 'capitalize',\n          letterSpacing: '0.02em',\n          transition: 'all 0.2s ease'\n        },\n        children: \"Export Campaign Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'white',\n        borderRadius: '16px',\n        padding: '24px',\n        margin: '32px',\n        boxShadow: '0 4px 6px rgba(44, 24, 16, 0.1)',\n        display: 'flex',\n        flexDirection: 'column',\n        flex: 1,\n        minHeight: 0,\n        position: 'relative',\n        overflowY: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '24px',\n          left: '24px',\n          right: '24px',\n          bottom: '24px',\n          overflowY: 'auto',\n          overflowX: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'separate',\n            borderSpacing: 0,\n            tableLayout: 'fixed'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"colgroup\", {\n            children: [/*#__PURE__*/_jsxDEV(\"col\", {\n              style: {\n                width: '120px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"col\", {\n              style: {\n                width: 'auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"col\", {\n              style: {\n                width: '200px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"col\", {\n              style: {\n                width: '180px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  textAlign: 'left',\n                  padding: '8px 16px 8px 12px',\n                  borderBottom: '2px solid #8B4513',\n                  color: '#2C1810',\n                  fontWeight: '600',\n                  backgroundColor: '#DEB887',\n                  position: 'sticky',\n                  top: 0,\n                  zIndex: 1,\n                  fontSize: '12pt'\n                },\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  textAlign: 'left',\n                  padding: '8px 16px',\n                  borderBottom: '2px solid #8B4513',\n                  color: '#2C1810',\n                  fontWeight: '600',\n                  backgroundColor: '#DEB887',\n                  position: 'sticky',\n                  top: 0,\n                  zIndex: 1,\n                  fontSize: '12pt'\n                },\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  textAlign: 'left',\n                  padding: '8px 16px',\n                  borderBottom: '2px solid #8B4513',\n                  color: '#2C1810',\n                  fontWeight: '600',\n                  backgroundColor: '#DEB887',\n                  position: 'sticky',\n                  top: 0,\n                  zIndex: 1,\n                  fontSize: '12pt'\n                },\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  textAlign: 'left',\n                  padding: '8px 16px',\n                  borderBottom: '2px solid #8B4513',\n                  color: '#2C1810',\n                  fontWeight: '600',\n                  backgroundColor: '#DEB887',\n                  position: 'sticky',\n                  top: 0,\n                  zIndex: 1,\n                  fontSize: '12pt'\n                },\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: logs.length === 0 && !loading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"4\",\n                style: {\n                  padding: '24px',\n                  textAlign: 'center',\n                  color: '#483C32',\n                  fontStyle: 'italic'\n                },\n                children: \"No actions logged in the chronicles yet...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this) : logs.map((log, index) => {\n              const isLastElement = index === logs.length - 1;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                ref: isLastElement ? lastLogElementRef : null,\n                style: {\n                  backgroundColor: index % 2 === 0 ? '#FFF' : '#F5E6D3',\n                  fontSize: '12pt',\n                  lineHeight: '1.2'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '6px 16px 6px 12px',\n                    whiteSpace: 'nowrap',\n                    color: '#2C1810'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: getActionColor(log.action_type),\n                      marginRight: '8px',\n                      display: 'inline-flex',\n                      alignItems: 'center'\n                    },\n                    children: getActionIcon(log.action_type)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this), log.action_type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '6px 16px',\n                    color: '#2C1810',\n                    textDecoration: log.action_type === 'DELETE' ? 'line-through' : 'none'\n                  },\n                  children: formatActionName(log)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '6px 16px',\n                    color: '#2C1810',\n                    textDecoration: log.action_type === 'DELETE' ? 'line-through' : 'none'\n                  },\n                  children: formatActionLocation(log)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '6px 16px',\n                    color: '#666',\n                    whiteSpace: 'nowrap'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'flex-start'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: formatTimestamp(log.created_at).date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: '8pt',\n                        marginTop: '-2px',\n                        opacity: 0.8\n                      },\n                      children: formatTimestamp(log.created_at).time\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 23\n                }, this)]\n              }, log.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          right: 0,\n          padding: '12px 0',\n          textAlign: 'center',\n          color: '#483C32',\n          fontStyle: 'italic',\n          fontFamily: '\"Crimson Text\", serif',\n          background: 'linear-gradient(transparent, white)'\n        },\n        children: \"Consulting the archives...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n};\n_s(Log, \"py2DVTlUDkwEH0HjBAUQNk8xApI=\", false, function () {\n  return [useCampaign];\n});\n_c = Log;\nexport default Log;\nvar _c;\n$RefreshReg$(_c, \"Log\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useCampaign","Plus","PencilSimple","Trash","ArrowsVertical","Dot","jsxDEV","_jsxDEV","Log","_s","logs","setLogs","loading","setLoading","hasMore","setHasMore","offset","setOffset","limit","observer","refreshInterval","selectedCampaign","lastLogElementRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevOffset","observe","fetchLogs","response","fetch","id","ok","Error","data","json","prevLogs","newLogs","uniqueLogs","Array","from","Map","map","log","values","sort","a","b","created_at","length","error","console","setInterval","clearInterval","formatTimestamp","timestamp","date","Date","dayOfWeek","toLocaleDateString","weekday","time","toLocaleTimeString","hour","minute","getActionIcon","action_type","weight","fileName","_jsxFileName","lineNumber","columnNumber","getActionColor","formatActionName","entityMap","details","nameMatch","match","entity_type","entity_id","formatActionLocation","_log$details","mapMatch","handleExport","alert","jsonStr","JSON","stringify","blob","Blob","type","url","window","URL","createObjectURL","document","createElement","href","download","name","body","appendChild","click","revokeObjectURL","removeChild","style","padding","display","flexDirection","height","width","boxSizing","background","position","top","right","bottom","overflowY","children","justifyContent","alignItems","marginLeft","marginRight","margin","onClick","className","color","border","borderRadius","cursor","fontWeight","fontSize","boxShadow","textTransform","letterSpacing","transition","flex","minHeight","left","overflowX","borderCollapse","borderSpacing","tableLayout","textAlign","borderBottom","backgroundColor","zIndex","colSpan","fontStyle","index","isLastElement","ref","lineHeight","whiteSpace","textDecoration","marginTop","opacity","fontFamily","_c","$RefreshReg$"],"sources":["/Users/josh.thorn/AutoML Co-Pilot/flying-dog-inn-vtt-frontend/src/components/Log.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useCampaign } from '../contexts/CampaignContext';\nimport { Plus, PencilSimple, Trash, ArrowsVertical, Dot } from '@phosphor-icons/react';\n\nconst Log = () => {\n  const [logs, setLogs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const [offset, setOffset] = useState(0);\n  const limit = 50;\n  const observer = useRef();\n  const refreshInterval = useRef();\n  const { selectedCampaign } = useCampaign();\n\n  const lastLogElementRef = useCallback(node => {\n    if (loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && hasMore) {\n        setOffset(prevOffset => prevOffset + limit);\n      }\n    });\n    if (node) observer.current.observe(node);\n  }, [loading, hasMore]);\n\n  const fetchLogs = async () => {\n    if (!selectedCampaign) return;\n\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `http://localhost:3001/api/logs?campaign_id=${selectedCampaign.id}&limit=${limit}&offset=${offset}`\n      );\n      if (!response.ok) throw new Error('Failed to fetch logs');\n      const data = await response.json();\n      \n      setLogs(prevLogs => {\n        const newLogs = offset === 0 ? data : [...prevLogs, ...data];\n        \n        const uniqueLogs = Array.from(new Map(newLogs.map(log => [log.id, log])).values());\n        \n        return uniqueLogs.sort((a, b) => b.created_at - a.created_at);\n      });\n      setHasMore(data.length === limit);\n    } catch (error) {\n      console.error('Error fetching logs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Reset logs and offset when campaign changes\n  useEffect(() => {\n    setLogs([]);\n    setOffset(0);\n    setHasMore(true);\n    if (selectedCampaign) {\n      fetchLogs();\n    }\n    \n    // Set up refresh interval\n    if (selectedCampaign) {\n      refreshInterval.current = setInterval(() => {\n        setOffset(0);\n      }, 10000);\n\n      return () => {\n        if (refreshInterval.current) {\n          clearInterval(refreshInterval.current);\n        }\n      };\n    }\n  }, [selectedCampaign?.id]); // Add .id to ensure it updates when campaign changes\n\n  // Fetch more logs when offset changes\n  useEffect(() => {\n    if (selectedCampaign && offset > 0) {\n      fetchLogs();\n    }\n  }, [offset, selectedCampaign?.id]);\n\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp * 1000);\n    const dayOfWeek = date.toLocaleDateString('en-US', { weekday: 'short' });\n    return {\n      date: `${dayOfWeek} ${date.toLocaleDateString()}`,\n      time: date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n    };\n  };\n\n  const getActionIcon = (action_type) => {\n    switch (action_type) {\n      case 'CREATE':\n        return <Plus weight=\"bold\" />;\n      case 'UPDATE':\n        return <PencilSimple weight=\"bold\" />;\n      case 'DELETE':\n        return <Trash weight=\"bold\" />;\n      case 'REORDER':\n        return <ArrowsVertical weight=\"bold\" />;\n      default:\n        return <Dot weight=\"bold\" />;\n    }\n  };\n\n  const getActionColor = (action_type) => {\n    switch (action_type) {\n      case 'CREATE':\n        return '#2D7A4C'; // Deep forest green\n      case 'UPDATE':\n        return '#8B4513'; // Saddle brown\n      case 'DELETE':\n        return '#8B0000'; // Dark red\n      case 'REORDER':\n        return '#4B0082'; // Indigo\n      default:\n        return '#483C32'; // Dark taupe\n    }\n  };\n\n  const formatActionName = (log) => {\n    const entityMap = {\n      'map': 'Map',\n      'marker': 'Marker',\n      'timeline_event': 'Timeline Event',\n      'campaign': 'Campaign'\n    };\n\n    if (log.details) {\n      const nameMatch = log.details.match(/\"([^\"]+)\"/);\n      if (nameMatch) return nameMatch[1];\n      \n      return log.details;\n    }\n\n    return `${entityMap[log.entity_type] || log.entity_type} ${log.entity_id}`;\n  };\n\n  const formatActionLocation = (log) => {\n    switch (log.entity_type) {\n      case 'map':\n        return 'Maps';\n      case 'marker': {\n        const mapMatch = log.details?.match(/on map \"([^\"]+)\"/);\n        if (mapMatch) return mapMatch[1];\n        return 'Maps';\n      }\n      case 'timeline_event':\n        return 'Timeline';\n      case 'campaign':\n        return 'Campaign Settings';\n      default:\n        return '';\n    }\n  };\n\n  const handleExport = async () => {\n    if (!selectedCampaign) {\n      alert('Please select a campaign first');\n      return;\n    }\n\n    try {\n      const response = await fetch(`http://localhost:3001/api/campaign/export/${selectedCampaign.id}`);\n      if (!response.ok) throw new Error('Failed to export campaign data');\n      const data = await response.json();\n\n      // Format the data for JSON file\n      const jsonStr = JSON.stringify(data, null, 2);\n\n      // Create and download the file\n      const blob = new Blob([jsonStr], { type: 'application/json' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${selectedCampaign.name}-campaign-export.json`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    } catch (error) {\n      console.error('Error exporting campaign data:', error);\n      alert('Failed to export campaign data');\n    }\n  };\n\n  return (\n    <div style={{\n      padding: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100vh',\n      width: 'calc(100vw - 296px)',\n      boxSizing: 'border-box',\n      background: '#F5E6D3',\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      overflowY: 'hidden'\n    }}>\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center',\n        marginLeft: '32px',\n        marginRight: '32px'\n      }}>\n        <h2 style={{ margin: 0 }}>Campaign Log</h2>\n        <button \n          onClick={handleExport}\n          className=\"dnd-button-secondary\"\n          style={{\n            background: '#F5E6D3',\n            color: '#8B4513',\n            border: '1px solid #A0522D',\n            borderRadius: '6px',\n            padding: '8px 20px',\n            cursor: 'pointer',\n            fontWeight: '600',\n            fontSize: '14px',\n            boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.5)',\n            textTransform: 'capitalize',\n            letterSpacing: '0.02em',\n            transition: 'all 0.2s ease'\n          }}\n        >\n          Export Campaign Data\n        </button>\n      </div>\n      \n      <div style={{\n        background: 'white',\n        borderRadius: '16px',\n        padding: '24px',\n        margin: '32px',\n        boxShadow: '0 4px 6px rgba(44, 24, 16, 0.1)',\n        display: 'flex',\n        flexDirection: 'column',\n        flex: 1,\n        minHeight: 0,\n        position: 'relative',\n        overflowY: 'hidden'\n      }}>\n        <div style={{\n          position: 'absolute',\n          top: '24px',\n          left: '24px',\n          right: '24px',\n          bottom: '24px',\n          overflowY: 'auto',\n          overflowX: 'auto'\n        }}>\n          <table style={{ \n            width: '100%', \n            borderCollapse: 'separate', \n            borderSpacing: 0,\n            tableLayout: 'fixed'\n          }}>\n            <colgroup>\n              <col style={{ width: '120px' }} />\n              <col style={{ width: 'auto' }} />\n              <col style={{ width: '200px' }} />\n              <col style={{ width: '180px' }} />\n            </colgroup>\n            <thead>\n              <tr>\n                <th style={{\n                  textAlign: 'left',\n                  padding: '8px 16px 8px 12px',\n                  borderBottom: '2px solid #8B4513',\n                  color: '#2C1810',\n                  fontWeight: '600',\n                  backgroundColor: '#DEB887',\n                  position: 'sticky',\n                  top: 0,\n                  zIndex: 1,\n                  fontSize: '12pt'\n                }}>Action</th>\n                <th style={{\n                  textAlign: 'left',\n                  padding: '8px 16px',\n                  borderBottom: '2px solid #8B4513',\n                  color: '#2C1810',\n                  fontWeight: '600',\n                  backgroundColor: '#DEB887',\n                  position: 'sticky',\n                  top: 0,\n                  zIndex: 1,\n                  fontSize: '12pt'\n                }}>Name</th>\n                <th style={{\n                  textAlign: 'left',\n                  padding: '8px 16px',\n                  borderBottom: '2px solid #8B4513',\n                  color: '#2C1810',\n                  fontWeight: '600',\n                  backgroundColor: '#DEB887',\n                  position: 'sticky',\n                  top: 0,\n                  zIndex: 1,\n                  fontSize: '12pt'\n                }}>Location</th>\n                <th style={{\n                  textAlign: 'left',\n                  padding: '8px 16px',\n                  borderBottom: '2px solid #8B4513',\n                  color: '#2C1810',\n                  fontWeight: '600',\n                  backgroundColor: '#DEB887',\n                  position: 'sticky',\n                  top: 0,\n                  zIndex: 1,\n                  fontSize: '12pt'\n                }}>Time</th>\n              </tr>\n            </thead>\n            <tbody>\n              {logs.length === 0 && !loading ? (\n                <tr>\n                  <td colSpan=\"4\" style={{\n                    padding: '24px',\n                    textAlign: 'center',\n                    color: '#483C32',\n                    fontStyle: 'italic'\n                  }}>\n                    No actions logged in the chronicles yet...\n                  </td>\n                </tr>\n              ) : (\n                logs.map((log, index) => {\n                  const isLastElement = index === logs.length - 1;\n                  return (\n                    <tr\n                      key={log.id}\n                      ref={isLastElement ? lastLogElementRef : null}\n                      style={{\n                        backgroundColor: index % 2 === 0 ? '#FFF' : '#F5E6D3',\n                        fontSize: '12pt',\n                        lineHeight: '1.2'\n                      }}\n                    >\n                      <td style={{\n                        padding: '6px 16px 6px 12px',\n                        whiteSpace: 'nowrap',\n                        color: '#2C1810'\n                      }}>\n                        <span style={{ \n                          color: getActionColor(log.action_type),\n                          marginRight: '8px',\n                          display: 'inline-flex',\n                          alignItems: 'center'\n                        }}>\n                          {getActionIcon(log.action_type)}\n                        </span>\n                        {log.action_type}\n                      </td>\n                      <td style={{\n                        padding: '6px 16px',\n                        color: '#2C1810',\n                        textDecoration: log.action_type === 'DELETE' ? 'line-through' : 'none'\n                      }}>\n                        {formatActionName(log)}\n                      </td>\n                      <td style={{\n                        padding: '6px 16px',\n                        color: '#2C1810',\n                        textDecoration: log.action_type === 'DELETE' ? 'line-through' : 'none'\n                      }}>\n                        {formatActionLocation(log)}\n                      </td>\n                      <td style={{\n                        padding: '6px 16px',\n                        color: '#666',\n                        whiteSpace: 'nowrap'\n                      }}>\n                        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start' }}>\n                          <span>{formatTimestamp(log.created_at).date}</span>\n                          <span style={{ \n                            fontSize: '8pt',\n                            marginTop: '-2px',\n                            opacity: 0.8\n                          }}>\n                            {formatTimestamp(log.created_at).time}\n                          </span>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })\n              )}\n            </tbody>\n          </table>\n        </div>\n        {loading && (\n          <div style={{\n            position: 'absolute',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: '12px 0',\n            textAlign: 'center',\n            color: '#483C32',\n            fontStyle: 'italic',\n            fontFamily: '\"Crimson Text\", serif',\n            background: 'linear-gradient(transparent, white)'\n          }}>\n            Consulting the archives...\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Log; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}